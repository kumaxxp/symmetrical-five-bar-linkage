# ExtendedKinematics クラス仕様

## 概要
`ExtendedKinematics` クラスは、`ForwardKinematics` クラスを拡張し、追加のリンク F を含む機構の順運動学を計算するためのクラスです。

## 属性
- `f`: 追加リンクの長さ
- `F`: 追加リンク F の位置座標
- `thetaF`: X-E-F の角度（度）
- `transformer`: 座標変換器オブジェクト
- `transformed_points`: 変換された座標点の辞書

## メソッド

### `__init__(self, Yb, l, b, m, e, f)`
クラスの初期化を行います。
- パラメータ:
  - `Yb`: B1, B2 の Y 座標
  - `l`: B1 から B2 までの距離
  - `b`: B1-M1 および B2-M2 のリンク長
  - `m`: M1-X および M2-X のリンク長
  - `e`: X-E の距離
  - `f`: 追加リンクの長さ

### `set_angles(self, theta1, theta2, thetaF)`
モーターの角度を設定します。
- パラメータ:
  - `theta1`: B1-M1 の角度（度）
  - `theta2`: B2-M2 の角度（度）
  - `thetaF`: X-角度（度）

### `compute_forward_kinematics(self)`
順運動学を計算し、F の位置を含めます。

### `calculate_F(self)`
E から F への位置を計算します。

### `calculate(self)`
順運動学の計算を行い、結果を返します。

### `format_result(self)`
計算結果をフォーマットして返します。

### `apply_transformation(self, transformer)`
座標変換を適用します。
- パラメータ:
  - `transformer`: 変換器オブジェクト

### `get_transformed_points(self)`
変換された座標を取得します。

### `get_original_points(self)`
元の座標を取得します。

## PlantUML クラス図

```plantuml
@startuml
class ForwardKinematics {
  +__init__(Yb, l, b, m, e)
  +set_angles(theta1, theta2)
  +compute_forward_kinematics()
  +calculate()
}

class ExtendedKinematics {
  -f: float
  -F: tuple
  -thetaF: float
  -transformer: object
  -transformed_points: dict
  +__init__(Yb, l, b, m, e, f)
  +set_angles(theta1, theta2, thetaF)
  +compute_forward_kinematics()
  +calculate_F()
  +calculate()
  +format_result()
  +apply_transformation(transformer)
  +get_transformed_points()
  +get_original_points()
}

ForwardKinematics <|-- ExtendedKinematics

@enduml
